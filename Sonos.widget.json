{
    "author": "Peter Wojciechowski",
    "description": "A Sonos controller and album art display",
    "id": "Sonos",
    "name": "Sonos controller widget",
    "template": "<style media=\"screen\" type=\"text/css\">\n    .sonosbutton {\n        width: 100%;\n        padding: 5px;\n        border-radius: 0.5em;\n        border: 1;\n        color: white;\n        background-color: transparent;\n        font-size: 22px;\n        background-size: contain;\n        background-repeat: no-repeat;\n        background-position: center center;\n        align-items: center;\n        justify-content: center;\n        display: flex;\n    }\n\n    .media_title {\n        font-size: 18px;\n        opacity: 1;\n        text-align: left;\n        text-transform: uppercase;\n        font-weight: normal;\n        z-index: 3;\n        background-color: transparent;\n        color: white;\n        letter-spacing: 2px;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 0px;\n        padding-bottom: 0px\n    }\n\n    .media_artist {\n        font-size: 12px;\n        opacity: 1;\n        text-align: left;\n        text-transform: uppercase;\n        font-weight: normal;\n        z-index: 3;\n        background-color: transparent;\n        color: white;\n        letter-spacing: 2px;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 0px;\n        padding-bottom: 10px\n    }\n\n    .media_fanart {\n        top: 0;\n        right: 0;\n        opacity: 1;\n        filter: grayscale(20%) brightness(70%);\n        z-index: 1;\n        outline: #fff solid 0px;\n        transition-duration: 3s;\n        box-shadow: 10 0 1px #ffffffbb, 0 0 2px #ffffffbb, 0 0 5px #ffffffbb, 0 0 10px #ccccccbb, 0 0 20px #ccccccbb, 0 0 22px #ccccccbb, 0 0 25px #ccccccbb, 0 0 33px #ccccccbb\n    }\n\n    .controller {\n        padding-left: 5px;\n        padding-right: 5px;\n        padding-top: 2px;\n        padding-bottom: 2px;\n        display: flex;\n        flex: 1;\n        flex-direction: row;\n\n        height: {{config.control_height}}px;\n        column-gap: 5%;\n    }\n\n    .track_controls {\n        border: 0px solid white;\n        border-collapse: collapse;\n        display: flex;\n        z-index: 0;\n        padding: 0px;\n        background-color: transparent;\n        flex: 1;\n        align-items: start;\n        justify-content: center;\n        column-gap: 5%;\n    }\n\n    .track_info {\n        flex: 8;\n        flex-direction: column;\n    }\n\n    .track_image {\n        flex: 2;\n    }\n\n    .sound_volume {\n        flex-direction: row;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n\n    .sonos-col-sm-1 {\n        border: 0px solid yellow;\n        border-collapse: collapse;\n        display: flex;\n        flex: 1;\n    }\n\n    .sonos-col-sm-2 {\n        border: 0px solid yellow;\n        border-collapse: collapse;\n        display: flex;\n        flex: 2;\n    }\n\n    .sonos-col-sm-3 {\n        border: 0px solid yellow;\n        border-collapse: collapse;\n        display: flex;\n        flex: 3;\n    }\n\n    .sonos-col-sm-4 {\n        border: 0px solid yellow;\n        border-collapse: collapse;\n        display: flex;\n        flex: 4;\n        column-gap: 2px;\n    }\n\n    .volume {\n        display: flex;\n        flex-direction: column;\n    }\n\n    .volumemeter-container {\n        width: 100%;\n        padding-top: 2px;\n    }\n\n    .volumemeter {\n        width: 100%;\n    }\n</style>\n<div class=\"controller\">\n    <div class=\"track_info\">\n        <div class=\"media_title\" ng-if=\"itemValue(config.media_title)!='UNDEF'\">\n            {{itemValue(config.media_title)}}&nbsp;&nbsp;\n        </div>\n        <div class=\"media_artist\" ng-if=\"itemValue(config.media_artist)!='UNDEF'\">\n            {{itemValue(config.media_artist)}}&nbsp;&nbsp;\n        </div>\n        <div class=\"track_controls\">\n            <div class=\"sonos-col-sm-1\" lass=\"col-sm-2 modgrid\">\n                <button class=\"sonosbutton\" style=\"background-image: url(/static/sonos/Back.png);\"\n                    ng-click=\"sendCmd(config.media_player, 'PREVIOUS')\">\n                    <svg width=\"24px\" height=\"24px\" stroke-width=\"1.5\" viewBox=\"0 0 24 24\" fill=\"none\"\n                        xmlns=\"http://www.w3.org/2000/svg\" color=\"#fff\">\n                        <path d=\"M6 7V17\" stroke=\"#fff\" stroke-width=\"1.5\" stroke-linecap=\"round\"\n                            stroke-linejoin=\"round\"></path>\n                        <path\n                            d=\"M17.0282 5.2672C17.4217 4.95657 18 5.23682 18 5.73813V18.2619C18 18.7632 17.4217 19.0434 17.0282 18.7328L9.09651 12.4709C8.79223 12.2307 8.79223 11.7693 9.09651 11.5291L17.0282 5.2672Z\"\n                            stroke=\"#fff\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path>\n                    </svg>\n                </button>\n            </div>\n\n            <div class=\"sonos-col-sm-2\" lass=\"col-sm-3 modgrid\" ng-if=\"itemValue(config.media_player) !='PLAY'\">\n                <button class=\"sonosbutton\" style=\"background-image: url(/static/sonos/Play.png);\"\n                    ng-click=\"sendCmd(config.media_player,'PLAY')\">\n                    <svg width=\"24px\" height=\"24px\" stroke-width=\"1.5\" viewBox=\"0 0 24 24\" fill=\"none\"\n                        xmlns=\"http://www.w3.org/2000/svg\" color=\"#fff\">\n                        <path\n                            d=\"M6.90588 4.53682C6.50592 4.2998 6 4.58808 6 5.05299V18.947C6 19.4119 6.50592 19.7002 6.90588 19.4632L18.629 12.5162C19.0211 12.2838 19.0211 11.7162 18.629 11.4838L6.90588 4.53682Z\"\n                            stroke=\"#fff\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path>\n                    </svg>\n                </button>\n            </div>\n            <div class=\"sonos-col-sm-2\" lass=\"col-sm-3 modgrid\" ng-if=\"itemValue(config.media_player) =='PLAY'\">\n                <button class=\"sonosbutton\" style=\"background-image: url(/static/sonos/Pause.png);\"\n                    ng-click=\"sendCmd(config.media_player,'PAUSE')\">\n                    <svg width=\"24px\" height=\"24px\" stroke-width=\"1.5\" viewBox=\"0 0 24 24\" fill=\"none\"\n                        xmlns=\"http://www.w3.org/2000/svg\" color=\"#fff\">\n                        <path\n                            d=\"M6 18.4V5.6C6 5.26863 6.26863 5 6.6 5H9.4C9.73137 5 10 5.26863 10 5.6V18.4C10 18.7314 9.73137 19 9.4 19H6.6C6.26863 19 6 18.7314 6 18.4Z\"\n                            stroke=\"#fff\" stroke-width=\"1.5\"></path>\n                        <path\n                            d=\"M14 18.4V5.6C14 5.26863 14.2686 5 14.6 5H17.4C17.7314 5 18 5.26863 18 5.6V18.4C18 18.7314 17.7314 19 17.4 19H14.6C14.2686 19 14 18.7314 14 18.4Z\"\n                            stroke=\"#fff\" stroke-width=\"1.5\"></path>\n                    </svg>\n                </button>\n            </div>\n\n            <div class=\"sonos-col-sm-1\" lass=\"col-sm-2 modgrid\">\n                <button class=\"sonosbutton\" style=\"background-image: url(/static/sonos/Fwd.png);\"\n                    ng-click=\"sendCmd(config.media_player, 'NEXT')\">\n                    <svg width=\"24px\" height=\"24px\" stroke-width=\"1.5\" viewBox=\"0 0 24 24\" fill=\"none\"\n                        xmlns=\"http://www.w3.org/2000/svg\" color=\"#fff\">\n                        <path d=\"M18 7V17\" stroke=\"#fff\" stroke-width=\"1.5\" stroke-linecap=\"round\"\n                            stroke-linejoin=\"round\"></path>\n                        <path\n                            d=\"M6.97179 5.2672C6.57832 4.95657 6 5.23682 6 5.73813V18.2619C6 18.7632 6.57832 19.0434 6.97179 18.7328L14.9035 12.4709C15.2078 12.2307 15.2078 11.7693 14.9035 11.5291L6.97179 5.2672Z\"\n                            stroke=\"#fff\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path>\n                    </svg>\n                </button>\n            </div>\n            <!-- volume start -->\n            <div class=\"volume sonos-col-sm-3\">\n                <div class=\"sonos-col-sm-3 sound_volume\">\n                    <button class=\"sonosbutton\" ng-if=\"itemValue(config.media_mute) == 'OFF'\"\n                        ng-click=\"sendCmd(config.media_volume, +itemState(config.media_volume) - 5)\">\n                        <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" fill=\"none\"\n                            xmlns=\"http://www.w3.org/2000/svg\" color=\"#fff\">\n                            <path d=\"M19.5 7.5C19.5 7.5 21 9 21 11.5C21 14 19.5 15.5 19.5 15.5\" stroke=\"#fff\"\n                                stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path>\n                            <path\n                                d=\"M2 13.8571V10.1429C2 9.03829 2.89543 8.14286 4 8.14286H6.9C7.09569 8.14286 7.28708 8.08544 7.45046 7.97772L13.4495 4.02228C14.1144 3.5839 15 4.06075 15 4.85714V19.1429C15 19.9392 14.1144 20.4161 13.4495 19.9777L7.45046 16.0223C7.28708 15.9146 7.09569 15.8571 6.9 15.8571H4C2.89543 15.8571 2 14.9617 2 13.8571Z\"\n                                stroke=\"#fff\" stroke-width=\"1.5\"></path>\n                        </svg>\n                    </button>\n\n                    <button class=\"sonosbutton\" ng-if=\"itemValue(config.media_mute) == 'OFF'\"\n                        ng-click=\"sendCmd(config.media_mute, 'ON')\">\n                        <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" fill=\"none\"\n                            xmlns=\"http://www.w3.org/2000/svg\" color=\"#fff\">\n                            <path d=\"M18 14L20.0005 12M22 10L20.0005 12M20.0005 12L18 10M20.0005 12L22 14\" stroke=\"#fff\"\n                                stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path>\n                            <path\n                                d=\"M2 13.8571V10.1429C2 9.03829 2.89543 8.14286 4 8.14286H6.9C7.09569 8.14286 7.28708 8.08544 7.45046 7.97772L13.4495 4.02228C14.1144 3.5839 15 4.06075 15 4.85714V19.1429C15 19.9392 14.1144 20.4161 13.4495 19.9777L7.45046 16.0223C7.28708 15.9146 7.09569 15.8571 6.9 15.8571H4C2.89543 15.8571 2 14.9617 2 13.8571Z\"\n                                stroke=\"#fff\" stroke-width=\"1.5\"></path>\n                        </svg>\n                    </button>\n                    <button class=\"sonosbutton\" ng-if=\"itemValue(config.media_mute) == 'OFF2'\">\n                        <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" fill=\"none\"\n                            xmlns=\"http://www.w3.org/2000/svg\" color=\"#fff\">\n                            <path\n                                d=\"M3.5 13.8571V10.1429C3.5 9.03829 4.39543 8.14286 5.5 8.14286H8.4C8.59569 8.14286 8.78708 8.08544 8.95046 7.97772L14.9495 4.02228C15.6144 3.5839 16.5 4.06075 16.5 4.85714V19.1429C16.5 19.9392 15.6144 20.4161 14.9495 19.9777L8.95046 16.0223C8.78708 15.9146 8.59569 15.8571 8.4 15.8571H5.5C4.39543 15.8571 3.5 14.9617 3.5 13.8571Z\"\n                                stroke=\"#fff\" stroke-width=\"1.5\"></path>\n                            <path d=\"M20.5 15L20.5 9\" stroke=\"#fff\" stroke-width=\"1.5\" stroke-linecap=\"round\"></path>\n                            <path d=\"M22.5 20L22.5 3\" stroke=\"#fff\" stroke-width=\"1.5\" stroke-linecap=\"round\"></path>\n                        </svg>\n                    </button>\n\n\n                    <button class=\"sonosbutton\" ng-if=\"itemValue(config.media_mute) != 'OFF'\"\n                        ng-click=\"sendCmd(config.media_mute, 'OFF')\">\n                        <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" fill=\"none\"\n                            xmlns=\"http://www.w3.org/2000/svg\" color=\"#fff\">\n                            <path\n                                d=\"M1 13.8571V10.1429C1 9.03829 1.89543 8.14286 3 8.14286H5.9C6.09569 8.14286 6.28708 8.08544 6.45046 7.97772L12.4495 4.02228C13.1144 3.5839 14 4.06075 14 4.85714V19.1429C14 19.9392 13.1144 20.4161 12.4495 19.9777L6.45046 16.0223C6.28708 15.9146 6.09569 15.8571 5.9 15.8571H3C1.89543 15.8571 1 14.9617 1 13.8571Z\"\n                                stroke=\"#fff\" stroke-width=\"1.5\"></path>\n                            <path d=\"M17.5 7.5C17.5 7.5 19 9 19 11.5C19 14 17.5 15.5 17.5 15.5\" stroke=\"#fff\"\n                                stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path>\n                            <path d=\"M20.5 4.5C20.5 4.5 23 7 23 11.5C23 16 20.5 18.5 20.5 18.5\" stroke=\"#fff\"\n                                stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path>\n                        </svg>\n                    </button>\n                    <button class=\"sonosbutton\" ng-if=\"itemValue(config.media_mute) != 'OFF1\"\n                        ng-click=\"sendCmd(config.media_mute, 'OFF')\">\n                        <svg width=\"24px\" height=\"24px\" stroke-width=\"1.5\" viewBox=\"0 0 24 24\" fill=\"none\"\n                            xmlns=\"http://www.w3.org/2000/svg\" color=\"#fff\">\n                            <path d=\"M17 6.5H20M23 6.5H20M20 6.5V3.5M20 6.5V9.5\" stroke=\"#fff\" stroke-width=\"1.5\"\n                                stroke-linecap=\"round\" stroke-linejoin=\"round\"></path>\n                            <path d=\"M6 15.9999V4.99992L14 4\" stroke=\"#fff\" stroke-width=\"1.5\" stroke-linecap=\"round\"\n                                stroke-linejoin=\"round\"></path>\n                            <path d=\"M15 14V10\" stroke=\"#fff\" stroke-width=\"1.5\" stroke-linecap=\"round\"\n                                stroke-linejoin=\"round\"></path>\n                            <path\n                                d=\"M12 19H13C14.1046 19 15 18.1046 15 17V14H12C10.8954 14 10 14.8954 10 16V17C10 18.1046 10.8954 19 12 19Z\"\n                                stroke=\"#fff\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path>\n                            <path\n                                d=\"M3 21H4C5.10457 21 6 20.1046 6 19V16H3C1.89543 16 1 16.8954 1 18V19C1 20.1046 1.89543 21 3 21Z\"\n                                stroke=\"#fff\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path>\n                        </svg>\n                    </button>\n\n                    <button class=\"sonosbutton\" ng-if=\"itemValue(config.media_mute) == 'OFF'\"\n                        ng-click=\"sendCmd(config.media_volume, +itemState(config.media_volume) + 5)\">\n                        <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" fill=\"none\"\n                            xmlns=\"http://www.w3.org/2000/svg\" color=\"#fff\">\n                            <path\n                                d=\"M1 13.8571V10.1429C1 9.03829 1.89543 8.14286 3 8.14286H5.9C6.09569 8.14286 6.28708 8.08544 6.45046 7.97772L12.4495 4.02228C13.1144 3.5839 14 4.06075 14 4.85714V19.1429C14 19.9392 13.1144 20.4161 12.4495 19.9777L6.45046 16.0223C6.28708 15.9146 6.09569 15.8571 5.9 15.8571H3C1.89543 15.8571 1 14.9617 1 13.8571Z\"\n                                stroke=\"#fff\" stroke-width=\"1.5\"></path>\n                            <path d=\"M17.5 7.5C17.5 7.5 19 9 19 11.5C19 14 17.5 15.5 17.5 15.5\" stroke=\"#fff\"\n                                stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path>\n                            <path d=\"M20.5 4.5C20.5 4.5 23 7 23 11.5C23 16 20.5 18.5 20.5 18.5\" stroke=\"#fff\"\n                                stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path>\n                        </svg>\n                    </button>\n                </div>\n\n                <div class=\"volumemeter-container\" ng-if=\"itemValue(config.media_mute) == 'OFF'\">\n                    <progress class=\"volumemeter\" max=\"100\" value=\"{{itemValue(config.media_volume)}}\" />\n                </div>\n            </div>\n            <!-- volume end -->\n        </div>\n    </div>\n\n    <div class=\"track_image\">\n        <img src=\"{{itemValue(config.media_art)}}\" class=\"media_fanart\" idth=\"100%\" height=\"100%\"\n            ng-if=\"itemValue(config.media_title)!='UNDEF'\" />\n    </div>\n</div>",
    "settings": [
        {
            "default": "Sonos_Office_AlbumArt",
            "description": "Artwork for video or album covers for music can be shown here and will make up the background image of the widget.",
            "id": "media_art",
            "label": "Image Art",
            "type": "item"
        },
        {
            "default": "Sonos_Office_Controller",
            "description": "The media player we will send our strings to to control playback.",
            "id": "media_player",
            "label": "Player Control",
            "type": "item"
        },
        {
            "default": "Sonos_Office_CurrentTitle",
            "description": "Movie title or song track or artist can be used here.",
            "id": "media_title",
            "label": "Title",
            "type": "item"
        },
        {
            "default": "Sonos_Office_CurrentArtist",
            "id": "media_artist",
            "label": "Artist",
            "type": "item"
        },
        {
            "default": "Sonos_Office_Volume",
            "id": "media_volume",
            "label": "Volume",
            "type": "item"
        },
        {
            "default": "Sonos_Office_Mute",
            "id": "media_mute",
            "label": "Mute",
            "type": "item"
        },
        {
            "default": 100,
            "id": "control_height",
            "label": "Control height",
            "type": "number"
        }
    ]
}
